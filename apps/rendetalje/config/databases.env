# Rendetalje Database Configuration
# This file enables hybrid local/cloud database switching

# =============================================================================
# LOCAL DATABASE CONFIGURATION (PostgreSQL)
# =============================================================================
DATABASE_MODE=local
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=rendetalje
POSTGRES_USER=postgres
POSTGRES_PASSWORD=local_password_2025

# Combined local database URL
DATABASE_URL=postgresql://postgres:local_password_2025@postgres:5432/rendetalje

# =============================================================================
# CLOUD DATABASE CONFIGURATION (Supabase)
# =============================================================================
SUPABASE_URL=https://oaevagdgrasfppbrxbey.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9hZXZhZ2RncmFzZnBwYnJ4YmV5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk4Nzc3NjQsImV4cCI6MjA3NTQ1Mzc2NH0.M0Kt1Xi-3VVoq6NJ7VbhqBC0z9EK-JQ7ypssayMw7s8
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9hZXZhZ2RncmFzZnBwYnJ4YmV5Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTg3Nzc2NCwiZXhwIjoyMDc1NDUzNzY0fQ.94lDERK4Enw8YTH_OtE9BpQhQWs8fg_7GZQGnYS8rNo

# Combined cloud database URL
SUPABASE_DATABASE_URL=postgresql://postgres:Habibie12345%40@db.oaevagdgrasfppbrxbey.supabase.co:5432/postgres?schema=renos&sslmode=require

# =============================================================================
# REDIS CONFIGURATION (Common for both modes)
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://redis:6379

# =============================================================================
# CONFIGURATION SWITCHING
# =============================================================================
# Available modes:
# - local: Use local PostgreSQL (default for development)
# - cloud: Use Supabase PostgreSQL (default for production)

# Current active mode (can be overridden by environment variables)
RENDER_DATABASE_MODE=local

# Health check configuration
HEALTH_CHECK_ENABLED=true
DATABASE_HEALTH_CHECK_INTERVAL=30

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
NODE_ENV=development
LOG_LEVEL=info
DEBUG_MODE=false

# Auto-switch configuration
AUTO_SWITCH_ENABLED=false
DATABASE_CONNECTION_TIMEOUT=5000

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
JWT_SECRET=development-jwt-secret-change-in-production
JWT_EXPIRES_IN=7d
CORS_ORIGIN=*
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# =============================================================================
# MCP SERVER CONFIGURATION
# =============================================================================
MCP_ENABLED=true
MCP_PORT=3003
MCP_SERVER_NAME=rendetalje-db
MCP_LOG_LEVEL=info

# MCP database permissions
MCP_READ_ONLY=false
MCP_SCHEMA_ACCESS=public,auth,core,integrations
MCP_MAX_CONNECTIONS=10