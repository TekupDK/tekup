# =================================================================
# RestaurantIQ Environment Configuration
# =================================================================
# Copy this file to .env and update the values for your environment

# =================================================================
# APPLICATION CONFIGURATION
# =================================================================
NODE_ENV=development
APP_NAME=RestaurantIQ
APP_VERSION=1.0.0
API_VERSION=v1
PORT=4000
FRONTEND_PORT=3000

# =================================================================
# DATABASE CONFIGURATION
# =================================================================
# PostgreSQL Database Connection
DATABASE_URL=postgresql://restaurantiq_user:restaurantiq_password@localhost:5432/restaurantiq_dev
DATABASE_TEST_URL=postgresql://restaurantiq_user:restaurantiq_password@localhost:5432/restaurantiq_test

# Connection Pool Settings
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_POOL_ACQUIRE_TIMEOUT=60000
DB_POOL_IDLE_TIMEOUT=10000

# =================================================================
# REDIS CONFIGURATION
# =================================================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_SESSION_DB=1
REDIS_CACHE_DB=2

# =================================================================
# AUTHENTICATION & SECURITY
# =================================================================
# JWT Configuration
JWT_SECRET=your-super-secure-jwt-secret-key-here-at-least-32-characters
JWT_REFRESH_SECRET=your-super-secure-jwt-refresh-secret-key-here-at-least-32-characters
JWT_EXPIRATION=15m
JWT_REFRESH_EXPIRATION=7d
JWT_ISSUER=restaurantiq
JWT_AUDIENCE=restaurantiq-users

# NextAuth Configuration (for frontend)
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-nextauth-secret-at-least-32-characters
NEXTAUTH_JWT_SECRET=your-nextauth-jwt-secret-at-least-32-characters

# Password Hashing
BCRYPT_ROUNDS=12

# Session Configuration
SESSION_SECRET=your-session-secret-at-least-32-characters
SESSION_MAX_AGE=86400000
SESSION_SECURE=false
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=lax

# =================================================================
# CORS & SECURITY HEADERS
# =================================================================
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_CREDENTIALS=true

# Security Headers
HELMET_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# =================================================================
# LOGGING CONFIGURATION
# =================================================================
LOG_LEVEL=debug
LOG_FORMAT=combined
LOG_FILE_ENABLED=true
LOG_FILE_PATH=logs/app.log
LOG_FILE_MAX_SIZE=10m
LOG_FILE_MAX_FILES=5

# Database Query Logging
LOG_QUERIES=true
LOG_SLOW_QUERIES=true
SLOW_QUERY_THRESHOLD=1000

# =================================================================
# EXTERNAL SERVICES & INTEGRATIONS
# =================================================================

# AI/ML Services (for inventory forecasting)
OPENAI_API_KEY=your-openai-api-key-here
AZURE_OPENAI_ENDPOINT=
AZURE_OPENAI_API_KEY=
GEMINI_API_KEY=your-gemini-api-key-here

# Weather API (for demand forecasting)
WEATHER_API_KEY=your-weather-api-key
WEATHER_API_URL=http://api.openweathermap.org/data/2.5

# Email Services
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
EMAIL_FROM=noreply@restaurantiq.dk

# SMS Services (for staff notifications)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+45xxxxxxxx

# =================================================================
# POS SYSTEM INTEGRATIONS
# =================================================================

# General POS Settings
POS_WEBHOOK_SECRET=your-pos-webhook-secret
POS_API_TIMEOUT=30000

# Specific POS Integrations (enable as needed)
LIGHTSPEED_API_KEY=
SQUARE_APPLICATION_ID=
SQUARE_ACCESS_TOKEN=
TOAST_API_KEY=

# =================================================================
# PAYMENT GATEWAYS
# =================================================================

# MobilePay (Danish market)
MOBILEPAY_MERCHANT_ID=your-mobilepay-merchant-id
MOBILEPAY_API_KEY=your-mobilepay-api-key
MOBILEPAY_WEBHOOK_SECRET=your-mobilepay-webhook-secret
MOBILEPAY_ENVIRONMENT=sandbox

# Stripe (backup payment processor)
STRIPE_PUBLIC_KEY=pk_test_your-stripe-public-key
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret

# =================================================================
# ACCOUNTING INTEGRATIONS
# =================================================================

# e-conomic (Danish accounting)
ECONOMIC_APP_SECRET_TOKEN=your-economic-app-secret-token
ECONOMIC_AGREEMENT_GRANT_TOKEN=your-economic-agreement-grant-token

# Dinero (Danish accounting)
DINERO_API_KEY=your-dinero-api-key
DINERO_CLIENT_ID=your-dinero-client-id
DINERO_CLIENT_SECRET=your-dinero-client-secret

# Billy (Danish accounting)
BILLY_API_KEY=your-billy-api-key

# =================================================================
# FILE STORAGE & UPLOADS
# =================================================================
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/webp,application/pdf,text/csv
UPLOAD_DEST=uploads
UPLOAD_TEMP_DEST=tmp

# AWS S3 (for production file storage)
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=eu-west-1
AWS_S3_BUCKET=restaurantiq-uploads

# =================================================================
# MONITORING & ANALYTICS
# =================================================================

# Application Performance Monitoring
APM_ENABLED=false
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
SENTRY_DSN=your-sentry-dsn

# Analytics
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX
MIXPANEL_TOKEN=your-mixpanel-token

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_DB_TIMEOUT=5000
HEALTH_CHECK_REDIS_TIMEOUT=2000

# =================================================================
# DEVELOPMENT & TESTING
# =================================================================

# Development Tools
HOT_RELOAD=true
ENABLE_SWAGGER=true
ENABLE_GRAPHQL_PLAYGROUND=true

# Testing
TEST_DATABASE_URL=postgresql://restaurantiq_user:restaurantiq_password@localhost:5432/restaurantiq_test
TEST_REDIS_URL=redis://localhost:6379/15
TEST_TIMEOUT=30000

# Mock Services (for development)
MOCK_POS_ENABLED=false
MOCK_PAYMENT_ENABLED=false
MOCK_AI_ENABLED=false

# =================================================================
# DANISH LOCALIZATION
# =================================================================
DEFAULT_LOCALE=da-DK
DEFAULT_TIMEZONE=Europe/Copenhagen
DEFAULT_CURRENCY=DKK
DATE_FORMAT=DD/MM/YYYY
TIME_FORMAT=HH:mm

# Danish Business Settings
CVR_VALIDATION_ENABLED=true
BORGER_DK_API_KEY=your-borger-dk-api-key

# =================================================================
# CACHE CONFIGURATION
# =================================================================
CACHE_TTL_DEFAULT=300
CACHE_TTL_LONG=3600
CACHE_TTL_SHORT=60
CACHE_ENABLED=true

# =================================================================
# RATE LIMITING
# =================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_WINDOW=100
RATE_LIMIT_WINDOW_SIZE_MINUTES=15

# =================================================================
# WEBSOCKET CONFIGURATION
# =================================================================
WS_ENABLED=true
WS_PORT=4001
WS_CORS_ORIGINS=http://localhost:3000

# =================================================================
# BACKUP CONFIGURATION
# =================================================================
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=restaurantiq-backups
