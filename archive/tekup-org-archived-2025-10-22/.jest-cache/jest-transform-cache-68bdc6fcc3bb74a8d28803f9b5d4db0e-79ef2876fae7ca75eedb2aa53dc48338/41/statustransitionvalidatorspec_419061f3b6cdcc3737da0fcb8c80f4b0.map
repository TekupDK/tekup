{"version":3,"sources":["C:\\Users\\empir\\Tekup-org\\apps\\flow-api\\src\\lead\\status-transition.validator.spec.ts"],"sourcesContent":["import { validateStatusTransition, allowedNextStatuses } from './status-transition.validator.js';\r\nimport { InvalidStatusTransitionError } from '../common/domain-error.js';\r\n\r\ndescribe('status-transition.validator', () => {\r\n  it('allows NEW -> CONTACTED', () => {\r\n    expect(() => validateStatusTransition('NEW', 'CONTACTED')).not.toThrow();\r\n  });\r\n\r\n  it('rejects NEW -> NEW', () => {\r\n    expect(() => validateStatusTransition('NEW', 'NEW')).toThrow(InvalidStatusTransitionError);\r\n  });\r\n\r\n  it('rejects CONTACTED -> NEW', () => {\r\n    expect(() => validateStatusTransition('CONTACTED', 'NEW')).toThrow(InvalidStatusTransitionError);\r\n  });\r\n\r\n  it('allowedNextStatuses returns correct array', () => {\r\n    expect(allowedNextStatuses('NEW')).toEqual(['CONTACTED']);\r\n    expect(allowedNextStatuses('CONTACTED')).toEqual([]);\r\n  });\r\n});"],"names":["describe","it","expect","validateStatusTransition","not","toThrow","InvalidStatusTransitionError","allowedNextStatuses","toEqual"],"mappings":";;;;2CAA8D;6BACjB;AAE7CA,SAAS,+BAA+B;IACtCC,GAAG,2BAA2B;QAC5BC,OAAO,IAAMC,IAAAA,mDAAwB,EAAC,OAAO,cAAcC,GAAG,CAACC,OAAO;IACxE;IAEAJ,GAAG,sBAAsB;QACvBC,OAAO,IAAMC,IAAAA,mDAAwB,EAAC,OAAO,QAAQE,OAAO,CAACC,yCAA4B;IAC3F;IAEAL,GAAG,4BAA4B;QAC7BC,OAAO,IAAMC,IAAAA,mDAAwB,EAAC,aAAa,QAAQE,OAAO,CAACC,yCAA4B;IACjG;IAEAL,GAAG,6CAA6C;QAC9CC,OAAOK,IAAAA,8CAAmB,EAAC,QAAQC,OAAO,CAAC;YAAC;SAAY;QACxDN,OAAOK,IAAAA,8CAAmB,EAAC,cAAcC,OAAO,CAAC,EAAE;IACrD;AACF"}